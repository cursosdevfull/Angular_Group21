<ng-content></ng-content>

<perfect-scrollbar style="height: 100%">
    <table mat-table [dataSource]="dataSource()" class="mat-elevation-z8">
        @for (meta of metadata(); track meta) {
        <ng-container [matColumnDef]="meta.field.toString()">
            <th mat-header-cell *matHeaderCellDef>{{ meta.label | titlecase }}</th>
            <td mat-cell *matCellDef="let element">
                @if(meta.component) {
                <div #status></div>
                } @else {
                {{ element[meta.field] }}
                }
            </td>
        </ng-container>
        }


        <tr mat-header-row *matHeaderRowDef="displayedColumns(); sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns();" class="row"></tr>
    </table>
</perfect-scrollbar>